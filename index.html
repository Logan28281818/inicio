<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generar Correo</title>
    <script>
        function generarCorreo() {
            // Obtener los valores ingresados
            var nombre = document.getElementById("nombre").value.trim();
            var apellido = document.getElementById("apellido").value.trim();
            var fechaNacimiento = document.getElementById("fechaNacimiento").value;

            // Validar que todos los campos estén llenos
            if (nombre === "" || apellido === "" || fechaNacimiento === "") {
                alert("Por favor, completa todos los campos.");
                return;
            }

            // Separar nombres y apellidos
            var partesNombre = nombre.split(" ");
            var primerNombre = partesNombre[0] || "";
            var segundoNombre = partesNombre[1] || "";

            var partesApellido = apellido.split(" ");
            var primerApellido = partesApellido[0] || "";
            var segundoApellido = partesApellido[1] || "";

            // Extraer "ua" del primer nombre
            var letrasIntermediasPrimerNombre = primerNombre.substring(1, 3).toLowerCase();

            // Extraer "berto" del segundo nombre
            var fragmentoSegundoNombre = segundoNombre.substring(2).toLowerCase(); // Tomar todo excepto las dos primeras letras

            // Extraer la primera letra del primer apellido
            var inicialPrimerApellido = primerApellido[0]?.toLowerCase() || "";

            // Extraer las últimas dos letras del segundo apellido
            var ultimasLetrasSegundoApellido = segundoApellido.slice(-2).toLowerCase();

            // Extraer los últimos dos dígitos del año de nacimiento
            var añoNacimiento = fechaNacimiento.split("-")[0].slice(2);

            // Generar el correo en el orden correcto
            var correo = inicialPrimerApellido + letrasIntermediasPrimerNombre + ultimasLetrasSegundoApellido + fragmentoSegundoNombre + añoNacimiento + "@gmail.com";
            document.getElementById("correo").value = correo;
        }
    </script>
</head>
<body>
    <h1>Generar Correo</h1>
    <form onsubmit="event.preventDefault(); generarCorreo();">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" placeholder="Ej: Juan Alberto"><br><br>

        <label for="apellido">Apellidos:</label>
        <input type="text" id="apellido" name="apellido" placeholder="Ej: Pérez Loza"><br><br>

        <label for="fechaNacimiento">Fecha de Nacimiento:</label>
        <input type="date" id="fechaNacimiento" name="fechaNacimiento"><br><br>

        <label for="correo">Correo Generado:</label>
        <input type="text" id="correo" name="correo" readonly><br><br>

        <button type="submit">Generar Correo</button>
    </form>
</body>
</html>
